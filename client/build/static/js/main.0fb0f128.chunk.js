(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){e.exports=n(40)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(13),c=n.n(l),i=(n(20),n(21),n(22),function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Food nutrient search"))}),o=n(14),s=n(2),u=n(3),m=n.n(u),d=function(e){var t=e.loadedFoods,n=e.isLoading,a=e.notFound,l=e.errors;e.fieldsets;return n?r.a.createElement("h3",null,"Loading..."):t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{textAlign:"center",marginBottom:"10px"}},t.length," results:"),r.a.createElement("div",{className:"header-grid-container"},r.a.createElement("div",{className:"header-grid-food"},"Food"),r.a.createElement("div",{className:"header-grid-nutrients"},"Nutrients")),t):a?r.a.createElement("h3",null,"No results found."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{color:"red"}},l),r.a.createElement("h3",null,"Results will display here."))},f=function(){var e=Object(a.useState)([{nutrient:"",min:"",max:""}]),t=Object(s.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),u=i[0],f=i[1],E=Object(a.useState)(!1),h=Object(s.a)(E,2),g=h[0],p=h[1],v=Object(a.useState)(!1),b=Object(s.a)(v,2),N=b[0],y=b[1],k=Object(a.useState)([]),w=Object(s.a)(k,2),x=w[0],F=w[1],j=function(e){return"Enter"===e.key?O(e):null},O=function(e){e.preventDefault(),y(!0);for(var t="",a=n,r="",l="",c="",i=0;i<a.length;i++){var o=a[i],s=o.nutrient.toLowerCase(),u=o.min,d=o.max;s&&!s.includes(",")&&(u||(u=0),d||(d=99999),r+="".concat(s,","),l+="".concat(u,","),c+="".concat(d,","))}t+="nutrients=".concat(r.slice(0,r.length-1),"&mins=").concat(l.slice(0,l.length-1),"&maxes=").concat(c.slice(0,c.length-1)),m.a.get("/api/foods/search?".concat(t)).then((function(e){e.data.length>0?(f(e.data),y(!1)):(f([]),y(!1),p(!0))})).catch((function(e){return F(e)}))},C=function(e,t){return function(a){var r=n.slice();r[t][e]=a.target.value,l(r)}},S=u.length>0?u.map((function(e,t){return r.a.createElement("div",{key:"".concat(t,"1"),className:"outter-grid-container"},r.a.createElement("div",{className:"outter-grid-food"},e.name,", ",e.measure),r.a.createElement("div",{className:"outter-grid-nutrients-values"},e.nutrients.map((function(e,t){return r.a.createElement("div",{key:"".concat(t,"1"),className:"inner-grid-container"},r.a.createElement("div",{className:"inner-grid-nutrient"},e.nutrient),r.a.createElement("div",{className:"inner-grid-value"},e.gm," grams"))}))))})):[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement("button",{onClick:function(){var e=n.slice(0,1);for(var t in e[0])e[0][t]="";l(Object(o.a)(e)),F([])}},"\u274c Remove All Fieldsets"),r.a.createElement("button",{onClick:function(e){if(e.preventDefault(),n.length>1){var t=n.slice();t.pop(),l(t)}}},"\u26d4\ufe0f Remove Last Fieldset"),r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=n.slice();t.push({nutrient:"",min:"",max:""}),l(t)}},"\u2795 Add Another Fieldset")),r.a.createElement("form",{onSubmit:O},r.a.createElement("div",{className:"fieldsets-wrapper"},n.map((function(e,t){return r.a.createElement("div",{className:"fieldset-wrapper",key:t},r.a.createElement("label",null,"Nutrient:",r.a.createElement("input",{required:!0,type:"text",value:n[t].nutrient,onChange:C("nutrient",t),onKeyPress:j})),r.a.createElement("label",null,"Minimum:",r.a.createElement("input",{type:"text",value:n[t].min,onChange:C("min",t),onKeyPress:j})),r.a.createElement("label",null,"Maximum:",r.a.createElement("input",{type:"text",value:n[t].max,onChange:C("max",t),onKeyPress:j})))}))),r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement("button",{onClick:function(e){e.preventDefault(),f([]),p(!1)}},"\u274c Clear Results"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),y(!0),m.a.get("/api/foods/all").then((function(e){e.data.length>0?(f(e.data),y(!1)):(f("string"),y(!1),p(!0))})).catch((function(e){return F(e)}))}},"\ud83c\udf54 Fetch All Foods"),r.a.createElement("input",{type:"submit",value:"\u2714\ufe0f Submit Query"}))),r.a.createElement("div",{className:"results-container"},r.a.createElement(d,{loadedFoods:S,isLoading:N,notFound:g,errors:x,fieldsets:n})))},E=function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(i,null),r.a.createElement(f,null),r.a.createElement("p",{align:"center"},r.a.createElement("a",{href:"https://github.com/fsiino/food-nutrition-express",target:"_blank"},"Github Repo")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.0fb0f128.chunk.js.map